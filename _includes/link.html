<li class="link {{ include.class }} {{ include.title | slugify }} {% unless include.title %}no-title{% endunless %} {% unless include.icon %}no-icon{% endunless %}">
  {% if include.pre %}
    <span class="pre-anchor">{{ include.pre }}</span>
  {% endif %}

  {% assign title_element = "span" %}
  {% if include.title_element %}
    {% assign title_element = include.title_element %}
  {% endif %}

  {%- comment -%} icon and title must be next to each other without whitespace {%- endcomment -%}

  {% if include.icon %}
    {% capture icon %}<i class="icon {{ include.icon }}" aria-hidden></i>{% endcapture %}
  {% endif %}

  {% if include.hide_title == true %}
    {% capture title %}{{ icon }}{% endcapture %}
  {% else %}
    {% capture title %}<{{title_element}}>{{ icon }}{{ include.title }}</{{title_element}}>{% endcapture %}
  {% endif %}

  <a {% if include.relme %}rel="me"{% endif %} href="{{ include.url }}" {% if include.title and include.hide_title == true %}aria-label="{{include.title}}" title="{{include.title}}"{% endif %}>
    {{ title }}
  </a>
  {% if include.post %}
    <span class="post-anchor">{{ include.post }}</span>
  {% endif %}
</li>
