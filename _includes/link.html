{% assign title_element = include.title_element or nil %}

{%- comment -%} icon and title must be next to each other without whitespace {%- endcomment -%}

{% if include.icon %}
  {% capture icon %}<i class="icon {{ include.icon }}" aria-hidden="true"></i>{% endcapture %}
{% endif %}

<a class="{{ include.class }}" href="{{ include.url }}"
  {% if include.relme %}rel="me"{% endif %}
  {% if include.title and include.hide_title == true %}
    aria-label="{{include.title}}" title="{{include.title}}"
  {% endif %}
>
  {% if include.hide_title == true %}
    {{ icon }}
  {% elsif title_element %}
    <{{title_element}}>{{ icon }}{{ include.title }}</{{title_element}}>
  {% else %}
    {{ icon }}{{ include.title }}
  {% endif %}
</a>
