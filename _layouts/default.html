<!DOCTYPE html>
<html>
<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-53059920-2"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-53059920-2');
  </script>

  <title>{% if page.headTitle %}{{ page.headTitle }} &ndash; {% endif %}{% if page.title %}{{ page.title }} â€“ {% endif %}Henry Blyth</title>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width">
  <link href='//fonts.googleapis.com/css?family=PT+Sans:400,400italic,700,700italic' rel='stylesheet' type='text/css'>
  <link href='//fonts.googleapis.com/css?family=PT+Sans+Narrow:400,400italic,700,700italic' rel='stylesheet' type='text/css'>
  <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.3.1/css/all.css" integrity="sha384-mzrmE5qonljUremFsqc01SB46JvROS7bZs3IO2EmfFsd15uHvIt+Y8vEf7N7fWAU" crossorigin="anonymous">
  <link rel="stylesheet" type="text/css" href="/css/main.css">
  {%if page.css%}<link rel="stylesheet" type="text/css" href="{{page.css}}">{%endif%}

  <link rel="pingback" href="https://webmention.io/henryblyth.com/xmlrpc" />
  <link rel="webmention" href="https://webmention.io/henryblyth.com/webmention" />

  {% if page.image %}
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:image" content="{{ site.url }}{{ page.image }}">
  {% else %}
  <meta name="twitter:card" content="summary">
  <meta name="twitter:image" content="{{ site.url }}/images/logo.png">
  {% endif %}
  {% if page.title %}
  <meta name="twitter:title" content="{{ page.title }}">
  {% else %}
  <meta name="twitter:title" content="Henry Blyth">
  {% endif %}
  <meta name="twitter:site" content="@henrahmagix">
  <meta name="twitter:creator" content="@henrahmagix">
  {% if page.subtitle %}
  <meta name="twitter:description" content="{{ page.subtitle }}">
  {% endif %}
</head>

<body class="page-{% if page.class %}{{ page.class }}{% else %}{{ page.title | slugify }}{% endif %}">

  <a href="#content" id="skip-to-content">Skip to main content</a>

  <header class="page-header h-card">
    <div class="logo-and-nav content-max-width">
      <a class="logo-flipper {%if page.url == '/' %}u-url{%endif%}" rel="me" href="{{ site.url }}" title="Home">
        <img class="logo u-photo" src="/images/logo.svg" alt="Henry James Blyth signature">
        <img class="logo backface" src="/images/me.jpg" alt="profile photo of Henry James Blyth">
      </a>

      <nav>
        <ul class="links">
          {% for link in site.data.links %}
            {% if link.menulist == true %}
              {% include link.html title=link.title url=link.url relme=link.relme %}
            {% endif %}
          {% endfor %}
          <li>ðŸ’¡Try! iPad OS cursor <input id="ipad-cursor-input" type="checkbox"></li>
        </ul>
      </nav>
    </div>

    <div class="p-name-wrapper strikethrough-wrapper">
      <h1 class="p-name">
        {% if page.url == "/" %}Henry &nbsp; James &nbsp; Blyth
        {% elsif layout.section != nil %}{{ layout.section }}
        {% elsif page.section != nil %}{{ page.section }}
        {% elsif page.title %}{{ page.title }}
        {% endif %}
      </h1>
    </div>
  </header>

  <main class="page-body content-max-width">
    {{ content }}
  </main>

  <footer class="page-footer">
    <div class="strikethrough-wrapper">
      <ul class="links">
        {% for link in site.data.links %}
          {% if link.footerlist %}
            {% include link.html title=link.title hide_title=true icon=link.icon url=link.url relme=link.relme %}
          {% endif %}
        {% endfor %}
      </ul>
    </div>
    <span class="contact content-max-width">
      <i class="first far fa-envelope"></i>
      <span class="screenreader">contact me at</span>
      henry at henryblyth dot com
    </span>
  </div>

  <script>
    var iPadCursorTrigger = document.getElementById('ipad-cursor-input');
    var iPadCursorAssets = [];

    iPadCursorTrigger.addEventListener('change', onCursorTriggerChange, false);

    if (document.cookie.indexOf('hb_ipad_cursor=1') !== -1) {
      iPadCursorTrigger.checked = true;
      if ('createEvent' in document) {
        var evt = document.createEvent('HTMLEvents');
        evt.initEvent('change', false, true);
        iPadCursorTrigger.dispatchEvent(evt);
      } else {
        iPadCursorTrigger.fireEvent('onchange');
      }
    }

    function onCursorTriggerChange (event) {
      window.startingCursorPosition = {x: event.x, y: event.y};

      if (iPadCursorTrigger.checked) {
        document.cookie = 'hb_ipad_cursor=1';
        tryIpadCursor();
      } else {
        document.cookie = 'hb_ipad_cursor=0';
        iPadCursorAssets.forEach(function (a) { a.remove(); });
        window.iPadCursorDestroy();
      }
    }

    function tryIpadCursor() {
      var script = document.createElement('script');
      script.src = '/js/ipad-cursor.js';
      script.onerror = function () {
        var msg = document.createElement('span');
        msg.innerText = 'oh no? i dont know why something went wrong, soz :(';
        msg.style.marginLeft = '0.25em';
        msg.style.verticalAlign = 'middle';
        iPadCursorTrigger.parentElement.appendChild(msg);
      };

      script.onload = function () {
        var link = document.createElement('link');
        link.rel = 'stylesheet';
        link.type = 'text/css';
        link.href = '/css/ipad-cursor.css';
        document.head.appendChild(link);
        iPadCursorAssets.push(link);
      };
      document.body.appendChild(script);
      iPadCursorAssets.push(script);
    }
  </script>

</body>
</html>
